:imagesdir: ../assets/images

= はじめに

== Globex のデジタル変革の歩み

Globex は架空の小売会社です。 同社は最近、デジタル変革とクラウド導入の取り組みを開始しました。 この取り組みの一環として、開発チームと Devops チームは、既存の多層モノリシック小売電子商取引 Web アプリケーションの最新化を完了しました。 モノリシック アプリケーションは、疎結合されたいくつかのマイクロサービスに分割され、アプリケーションは OpenShift 上で再ホストされました。

アプリケーションの最新化作業の第 1 フェーズ後のアプリケーションの現在の状態の概略図は次のとおりです。

image::globex-phase1.png[width=60%]

Globex Retail アプリケーションをさらに強化するために、ビジネスが新しい要件を生み出します。

* Web サイトおよびモバイル アプリケーションでのユーザー アクティビティを追跡する機能
* 最も顧客の関心を集めた製品を注目の製品として強調する
* Web サイトとモバイル アプリケーションでユーザーにパーソナライズされたエクスペリエンスを提供する

チームは、簡単に拡張できる Kafka エコシステムを使用してユーザー アクティビティを追跡することにしました。 Red Hat AMQ Streams (アップストリームの Strimzi に基づく) は、Apache Kafka の Kubernetes/OpenShift 中心のビューを提供し、オペレーターベースのインストールとアップグレード、およびブローカー、トピック、セキュリティのクラウドネイティブ管理を提供します。


== このラボの目標
このモジュールでは、次の手順に従います。

* Globex 小売アプリケーションにイベント ストリーミングを追加してユーザー アクティビティを追跡する
* Kafka ストリームを使用して注目の製品を強調表示する


== ランタイムアーキテクチャ

image::globex-runtime-architecture-2.png[]

サイトの訪問者は、さまざまな方法で Globex 小売 Web サイトを利用します。

* 製品一覧を見る
* 製品を検索する
* 商品にいいね！する / 商品をお気に入りに追加
* 製品の詳細を見る
* ショッピングカートに商品を追加する
* 注文する

これらの各アクティビティは、 *User Activity Tracking* サービスによってキャプチャされるイベント ストリームを生成します。 次に、このサービスはイベントを Kafka ストリーミング プラットフォームにプッシュします。
イベントは、注目製品のリストを強化する *Product Recommendation*  サービスなどの他のサービスで使用できます。
新しい *Featured Products* セクションがフロントエンド Web アプリケーションに作成され、注目製品が紹介されます。


== アーキテクチャ

デプロイメントアーキテクチャのビューは次のとおりです

image::globex-deployment-architecture-2.png[]

すべてのサービスと Web サイトは、クラウド上で実行される Red Hat OpenShift 上にデプロイされます。
